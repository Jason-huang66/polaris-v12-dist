(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1632],{26170:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/popover-with-searchable-listbox",function(){return a(52281)}])},52281:function(e,t,a){"use strict";a.r(t);var i=a(24246),n=a(27378),l=a(99653),r=a(88470),s=a(27298),o=a(89219),c=a(62503),u=a(51720),d=a(43389),g=a(85142),m=a(20569),p=a(64515);let h="__ACTION__",b=[{label:"All customers",id:"gid://shopify/CustomerSegment/1",value:"0"},{label:"VIP customers",id:"gid://shopify/CustomerSegment/2",value:"1"},{label:"New customers",id:"gid://shopify/CustomerSegment/3",value:"2"},{label:"Abandoned carts - last 30 days",id:"gid://shopify/CustomerSegment/4",value:"3"},{label:"Wholesale customers",id:"gid://shopify/CustomerSegment/5",value:"4"},{label:"Email subscribers",id:"gid://shopify/CustomerSegment/6",value:"5"},{label:"From New York",id:"gid://shopify/CustomerSegment/7",value:"6"},{label:"Repeat buyers",id:"gid://shopify/CustomerSegment/8",value:"7"},{label:"First time buyers",id:"gid://shopify/CustomerSegment/9",value:"8"},{label:"From Canada",id:"gid://shopify/CustomerSegment/10",value:"9"},{label:"Bought in last 60 days",id:"gid://shopify/CustomerSegment/11",value:"10"},{label:"Bought last BFCM",id:"gid://shopify/CustomerSegment/12",value:"11"}],f=Array.from(Array(100)).map((e,t)=>({label:"Other customers ".concat(t+13),id:"gid://shopify/CustomerSegment/".concat(t+13),value:"".concat(t+12)}));b.push(...f);let v=e=>{let{children:t}=e,a=e=>{e.stopPropagation()};return(0,i.jsx)("div",{onClick:a,onTouchStart:a,children:t})};t.default=(0,p.y)(function(){let[e,t]=(0,n.useState)(!1),[a,p]=(0,n.useState)(!0),[f,y]=(0,n.useState)(""),[S,L]=(0,n.useState)(!1),[x,k]=(0,n.useState)(!0),[C,P]=(0,n.useState)(6),[E,j]=(0,n.useState)(b[0].id),[w,T]=(0,n.useState)(0),[_,N]=(0,n.useState)([]),B=()=>{p(!1),P(25)},F=e=>{let t=b.filter(t=>t.label.toLocaleLowerCase().includes(e.toLocaleLowerCase().trim()));N(t)},A=e=>{y(e),e.length>=2&&F(e)},I=()=>{A("")},O=()=>{t(!0)},R=()=>{t(!1),A("")},D=e=>{if(e===h)return B();T(Number(e)),R()},K=(e,t)=>{j(t)},z=()=>{if(x&&!a){L(!0);let e=f?_:b;setTimeout(()=>{let t=e.length-C;L(!1),P(t>=25?C+25:C+t),t<=25&&k(!1)},1e3)}},U="SearchableListboxInPopover",W=(0,i.jsx)("div",{style:{fontSize:"var(--p-font-size-500)",color:"var(--p-color-text)",borderBottom:"1px dashed var(--p-color-border)"},children:(0,i.jsx)(l.r,{monochrome:!0,removeUnderline:!0,onClick:O,children:(0,i.jsx)(r.x,{as:"h1",variant:"headingXl",children:b[w].label})})}),H=(0,i.jsx)("div",{style:{padding:"12px"},children:(0,i.jsx)(v,{children:(0,i.jsx)(s.n,{focused:a,clearButton:!0,labelHidden:!0,label:"Customer segments",placeholder:"Search segments",autoComplete:"off",value:f,prefix:(0,i.jsx)(o.J,{source:m.S}),ariaActiveDescendant:E,ariaControls:U,onChange:A,onClearButtonClick:I})})}),J=f?_:b,X=J.length>0?J.slice(0,C).map(e=>{let{label:t,id:a,value:n}=e,l=b[w].id===a;return(0,i.jsx)(c.R.Option,{value:n,selected:l,children:(0,i.jsx)(c.R.TextOption,{selected:l,children:t})},a)}):null,Z=a?(0,i.jsx)(c.R.Action,{value:h,children:(0,i.jsx)("span",{style:{color:"var(--p-color-text-emphasis)"},children:"Show all 111 segments"})}):null,q=S?(0,i.jsx)(c.R.Loading,{accessibilityLabel:"".concat(f?"Filtering":"Loading"," customer segments")}):null,M=0===J.length?(0,i.jsx)(u.K,{title:"",description:'No segments found matching "'.concat(f,'"')}):null,$=(0,i.jsxs)(c.R,{enableKeyboardControl:!0,autoSelection:c.G.FirstSelected,accessibilityLabel:"Search for and select a customer segment",customListId:U,onSelect:D,onActiveOptionChange:K,children:[X,Z,M,q]});return(0,i.jsx)("div",{style:{height:"400px"},children:(0,i.jsx)(d.J,{active:e,activator:W,ariaHaspopup:"listbox",preferredAlignment:"left",autofocusTarget:"first-node",onClose:R,children:(0,i.jsx)(d.J.Pane,{fixed:!0,children:(0,i.jsxs)("div",{style:{alignItems:"stretch",borderTop:"1px solid #DFE3E8",display:"flex",flexDirection:"column",justifyContent:"stretch",position:"relative",width:"100%",height:"100%",overflow:"hidden"},children:[H,(0,i.jsx)(g.R,{shadow:!0,style:{position:"relative",width:"310px",height:"292px",padding:"var(--p-space-200) 0",borderBottomLeftRadius:"var(--p-border-radius-200)",borderBottomRightRadius:"var(--p-border-radius-200)"},onScrolledToBottom:z,children:$})]})})})})})},51720:function(e,t,a){"use strict";a.d(t,{K:function(){return o}});var i=a(27378),n=a(57963),l=a(97661),r=a(88470),s=a(17017);function o({title:e,description:t,withIllustration:a}){let o=(0,n.Q)(),c=o.translate("Polaris.EmptySearchResult.altText"),u=t?i.createElement("p",null,t):null,d=a?i.createElement(s.E,{alt:c,source:"data:image/svg+xml,%3csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' d='M41.87 24a17.87 17.87 0 11-35.74 0 17.87 17.87 0 0135.74 0zm-3.15 18.96a24 24 0 114.24-4.24L59.04 54.8a3 3 0 11-4.24 4.24L38.72 42.96z' fill='%238C9196'/%3e%3c/svg%3e",draggable:!1}):null;return i.createElement(l.D,{alignment:"center",vertical:!0},d,i.createElement(r.x,{variant:"headingLg",as:"p"},e),i.createElement(r.x,{tone:"subdued",as:"span"},u))}},17017:function(e,t,a){"use strict";a.d(t,{E:function(){return n}});var i=a(27378);function n({alt:e,sourceSet:t,source:a,crossOrigin:n,onLoad:l,className:r,...s}){let o=t?t.map(({source:e,descriptor:t})=>`${e} ${t}`).join(","):null,c=(0,i.useCallback)(()=>{l&&l()},[l]);return i.createElement("img",Object.assign({alt:e,src:a,crossOrigin:n,className:r,onLoad:c},o?{srcSet:o}:{},s))}},97661:function(e,t,a){"use strict";a.d(t,{D:function(){return o}});var i=a(27378),n=a(39627),l=a(26482),r={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function s({children:e,fill:t}){let a=(0,n.AK)(r.Item,t&&r["Item-fill"]);return i.createElement("div",{className:a},e)}let o=(0,i.memo)(function({children:e,vertical:t,spacing:a,distribution:o,alignment:c,wrap:u}){let d=(0,n.AK)(r.LegacyStack,t&&r.vertical,a&&r[(0,n.OZ)("spacing",a)],o&&r[(0,n.OZ)("distribution",o)],c&&r[(0,n.OZ)("alignment",c)],!1===u&&r.noWrap),g=(0,l.gD)(e).map((e,t)=>(0,l.oh)(e,s,{key:t}));return i.createElement("div",{className:d},g)});o.Item=s},99653:function(e,t,a){"use strict";a.d(t,{r:function(){return o}});var i=a(27378),n=a(53700),l=a(39627),r={Link:"Polaris-Link",monochrome:"Polaris-Link--monochrome",removeUnderline:"Polaris-Link--removeUnderline"},s=a(66048);function o({url:e,children:t,onClick:a,external:o,target:c,id:u,monochrome:d,removeUnderline:g,accessibilityLabel:m,dataPrimaryLink:p}){return i.createElement(n.D.Consumer,null,n=>{let h=(0,l.AK)(r.Link,(d||n)&&r.monochrome,g&&r.removeUnderline);return e?i.createElement(s.H,{onClick:a,className:h,url:e,external:o,target:c,id:u,"aria-label":m,"data-primary-link":p},t):i.createElement("button",{type:"button",onClick:a,className:h,id:u,"aria-label":m,"data-primary-link":p},t)})}},53700:function(e,t,a){"use strict";a.d(t,{D:function(){return n}});var i=a(27378);let n=(0,i.createContext)(!1)}},function(e){e.O(0,[4515,3121,7298,2131,8073,2503,9774,2888,179],function(){return e(e.s=26170)}),_N_E=e.O()}]);