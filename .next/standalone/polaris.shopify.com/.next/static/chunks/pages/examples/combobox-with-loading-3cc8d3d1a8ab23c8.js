(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5900],{30998:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/combobox-with-loading",function(){return l(2138)}])},2138:function(e,t,l){"use strict";l.r(t);var a=l(24246),n=l(62503),u=l(45536),o=l(89219),i=l(20569),s=l(27378),r=l(64515);t.default=(0,r.y)(function(){let e=(0,s.useMemo)(()=>[{value:"rustic",label:"Rustic"},{value:"antique",label:"Antique"},{value:"vinyl",label:"Vinyl"},{value:"vintage",label:"Vintage"},{value:"refurbished",label:"Refurbished"}],[]),[t,l]=(0,s.useState)(),[r,c]=(0,s.useState)(""),[d,b]=(0,s.useState)(e),[f,h]=(0,s.useState)(!1),v=(0,s.useCallback)(t=>{c(t),f||h(!0),setTimeout(()=>{if(""===t){b(e),h(!1);return}let l=RegExp(t,"i"),a=d.filter(e=>e.label.match(l));b(a),h(!1)},300)},[e,f,d]),m=(0,s.useCallback)(e=>{let t=d.find(t=>t.value.match(e));l(e),c(t&&t.label||"")},[d]),x=d.length>0?d.map(e=>{let{label:l,value:u}=e;return(0,a.jsx)(n.R.Option,{value:u,selected:t===u,accessibilityLabel:l,children:l},"".concat(u))}):null,p=f?(0,a.jsx)(n.R.Loading,{accessibilityLabel:"Loading"}):null,C=x||p?(0,a.jsxs)(n.R,{onSelect:m,children:[x&&!f?x:null,p]}):null;return(0,a.jsx)("div",{style:{height:"225px"},children:(0,a.jsx)(u.h,{activator:(0,a.jsx)(u.h.TextField,{prefix:(0,a.jsx)(o.J,{source:i.S}),onChange:v,label:"Search tags",labelHidden:!0,value:r,placeholder:"Search tags",autoComplete:"off"}),children:C})})})},45536:function(e,t,l){"use strict";l.d(t,{h:function(){return c}});var a=l(27378),n={Listbox:"Polaris-Combobox__Listbox"},u=l(5089),o=l(48281),i=l(40553),s=l(27298),r=l(43389);function c({activator:e,allowMultiple:t,children:l,preferredPosition:o="below",willLoadMoreOptions:i,height:s,onScrolledToBottom:c,onClose:d}){let[b,f]=(0,a.useState)(!1),[h,v]=(0,a.useState)(),[m,x]=(0,a.useState)(),[p,C]=(0,a.useState)(),[g,k]=(0,a.useState)(!1),E=Boolean(!b&&a.Children.count(l)>0),S=(0,a.useRef)(null),_=(0,a.useCallback)(()=>{f(!1),d?.(),v(void 0)},[d]),T=(0,a.useCallback)(()=>{f(!0),v(void 0)},[]),F=(0,a.useCallback)(()=>{if(!t){_(),v(void 0);return}S.current?.forceUpdatePosition()},[t,_]),P=(0,a.useCallback)(()=>{E&&T()},[E,T]),j=(0,a.useCallback)(()=>{E&&T()},[E,T]),w=(0,a.useCallback)(()=>{b&&_()},[b,_]),y=(0,a.useMemo)(()=>({activeOptionId:h,expanded:b,listboxId:p,setTextFieldFocused:k,setTextFieldLabelId:x,onTextFieldFocus:P,onTextFieldChange:j,onTextFieldBlur:w}),[h,b,p,k,x,P,j,w]),L=(0,a.useMemo)(()=>({allowMultiple:t}),[t]),N=(0,a.useMemo)(()=>({listboxId:p,textFieldLabelId:m,textFieldFocused:g,willLoadMoreOptions:i,onOptionSelected:F,setActiveOptionId:v,setListboxId:C,onKeyToBottom:c}),[p,m,g,i,F,v,C,c]);return a.createElement(r.J,{ref:S,active:b,activator:a.createElement(u.HN.Provider,{value:y},e),autofocusTarget:"none",preventFocusOnClose:!0,fullWidth:!0,preferInputActivator:!1,preferredPosition:o,onClose:_},a.Children.count(l)>0?a.createElement(r.J.Pane,{onScrolledToBottom:c,height:s},a.createElement(u.ml.Provider,{value:N},a.createElement(u.AF.Provider,{value:L},a.createElement("div",{className:n.Listbox},l)))):null)}c.TextField=function({value:e,id:t,type:l="text",ariaAutocomplete:n="list",onFocus:u,onBlur:r,onChange:c,...d}){let b=(0,o.i)(),{activeOptionId:f,listboxId:h,expanded:v,setTextFieldFocused:m,setTextFieldLabelId:x,onTextFieldFocus:p,onTextFieldChange:C,onTextFieldBlur:g}=b,k=(0,a.useId)(),E=(0,a.useMemo)(()=>t||k,[k,t]),S=(0,a.useMemo)(()=>(0,i.n)(t||k),[k,t]);(0,a.useEffect)(()=>{x&&x(S)},[S,x]);let _=(0,a.useCallback)(e=>{u&&u(e),p&&p(),m&&m(!0)},[u,p,m]),T=(0,a.useCallback)(e=>{r&&r(e),g&&g(),m&&m(!1)},[r,g,m]),F=(0,a.useCallback)((e,t)=>{c&&c(e,t),C&&C(e)},[c,C]);return a.createElement(s.n,Object.assign({},d,{value:e,id:E,type:l,ariaAutocomplete:n,"aria-haspopup":"listbox",ariaActiveDescendant:f,ariaControls:h,role:"combobox",ariaExpanded:v,onFocus:_,onBlur:T,onChange:F}))}}},function(e){e.O(0,[4515,3121,7298,2131,8073,2503,9774,2888,179],function(){return e(e.s=30998)}),_N_E=e.O()}]);