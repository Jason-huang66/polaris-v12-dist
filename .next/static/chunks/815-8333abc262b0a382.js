"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{40815:function(e,t,r){r.d(t,{z:function(){return f}});var n=r(27378),i=r(88491),a=r(12332),s=r(39627);function l(e){let{hue:t,saturation:r,brightness:n,alpha:i=1}=e,a=n*r,{red:s,green:l,blue:h}=function(e,t){let r=e/60,n=t*(1-Math.abs(r%2-1)),i=0,a=0,s=0;return r>=0&&r<=1&&(i=t,a=n,s=0),r>=1&&r<=2&&(i=n,a=t,s=0),r>=2&&r<=3&&(i=0,a=t,s=n),r>=3&&r<=4&&(i=0,a=n,s=t),r>=4&&r<=5&&(i=n,a=0,s=t),r>=5&&r<=6&&(i=t,a=0,s=n),{red:i,green:a,blue:s}}(t,a),o=n-a;return{red:Math.round(255*(s+=o)),green:Math.round(255*(l+=o)),blue:Math.round(255*(h+=o)),alpha:i}}var h={ColorPicker:"Polaris-ColorPicker",MainColor:"Polaris-ColorPicker__MainColor",fullWidth:"Polaris-ColorPicker--fullWidth",Dragger:"Polaris-ColorPicker__Dragger",ColorLayer:"Polaris-ColorPicker__ColorLayer",HuePicker:"Polaris-ColorPicker__HuePicker",AlphaPicker:"Polaris-ColorPicker__AlphaPicker",Slidable:"Polaris-ColorPicker__Slidable"},o=r(59012),c=r(93283);let u=!1;o.s||window.addEventListener("touchmove",e=>{u&&e.preventDefault()},{passive:!1});class g extends n.PureComponent{constructor(...e){super(...e),this.state={dragging:!1},this.node=null,this.draggerNode=null,this.setDraggerNode=e=>{this.draggerNode=e},this.setNode=e=>{this.node=e},this.startDrag=e=>{"mousedown"===e.type&&this.handleDraggerMove(e.clientX,e.clientY),u=!0,this.setState({dragging:!0})},this.handleDragEnd=()=>{u=!1,this.setState({dragging:!1})},this.handleMove=e=>{if(e.stopImmediatePropagation(),e.stopPropagation(),e.cancelable&&e.preventDefault(),"mousemove"===e.type){this.handleDraggerMove(e.clientX,e.clientY);return}this.handleDraggerMove(e.touches[0].clientX,e.touches[0].clientY)},this.handleDraggerMove=(e,t)=>{if(null==this.node)return;let{onChange:r}=this.props,n=this.node.getBoundingClientRect(),i=e-n.left,a=t-n.top;r({x:i,y:a})}}componentDidMount(){let{onDraggerHeight:e}=this.props;if(null==e)return;let{draggerNode:t}=this;null!=t&&e(t.clientWidth)}render(){let{dragging:e}=this.state,{draggerX:t=0,draggerY:r=0}=this.props,i={transform:`translate3d(${t}px, ${r}px, 0)`},a=e?n.createElement(c.h,{event:"mousemove",handler:this.handleMove,passive:!1}):null,s=e?n.createElement(c.h,{event:"touchmove",handler:this.handleMove,passive:!1}):null,l=e?n.createElement(c.h,{event:"mouseup",handler:this.handleDragEnd}):null,o=e?n.createElement(c.h,{event:"touchend",handler:this.handleDragEnd}):null,u=e?n.createElement(c.h,{event:"touchcancel",handler:this.handleDragEnd}):null;return n.createElement("div",{ref:this.setNode,className:h.Slidable,onMouseDown:this.startDrag,onTouchStart:this.startDrag},l,a,s,o,u,n.createElement("div",{style:i,className:h.Dragger,ref:this.setDraggerNode}))}}class d extends n.PureComponent{constructor(...e){super(...e),this.state={sliderHeight:0,draggerHeight:0},this.setSliderHeight=e=>{null!=e&&this.setState({sliderHeight:e.clientHeight})},this.setDraggerHeight=e=>{this.setState({draggerHeight:e})},this.handleChange=({y:e})=>{let{onChange:t}=this.props,{sliderHeight:r}=this.state,n=function(e,t){let r=(0,a.u)(e,0,t);return(0,a.u)(1-(r-13)/(t-26),0,1)}(e,r);t(n)}}render(){let{color:e,alpha:t}=this.props,{sliderHeight:r,draggerHeight:i}=this.state,s=function(e,t,r){let n=(0,a.u)((1-e)*(t-(r+13))+13,0,t-r);return(0,a.u)(n,0,t)}(t,r,i),o=function(e){let{red:t,green:r,blue:n}=l(e),i=`${t}, ${r}, ${n}`;return`linear-gradient(to top, rgba(${i}, 0) 18px, rgba(${i}, 1) calc(100% - 18px))`}(e);return n.createElement("div",{className:h.AlphaPicker,ref:this.setSliderHeight},n.createElement("div",{className:h.ColorLayer,style:{background:o}}),n.createElement(g,{draggerY:s,draggerX:0,onChange:this.handleChange,onDraggerHeight:this.setDraggerHeight}))}}class p extends n.PureComponent{constructor(...e){super(...e),this.state={sliderHeight:0,draggerHeight:0},this.setSliderHeight=e=>{null!=e&&this.setState({sliderHeight:e.clientHeight})},this.setDraggerHeight=e=>{this.setState({draggerHeight:e})},this.handleChange=({y:e})=>{let{onChange:t}=this.props,{sliderHeight:r}=this.state,n=function(e,t){let r=(0,a.u)(e,0,t);return(0,a.u)((r-13)/(t-26)*360,0,360)}(e,r);t(n)}}render(){let{hue:e}=this.props,{sliderHeight:t,draggerHeight:r}=this.state,i=function(e,t,r){let n=(0,a.u)(e/360*(t-(r+13))+13,0,t-r);return(0,a.u)(n,0,t)}(e,t,r);return n.createElement("div",{className:h.HuePicker,ref:this.setSliderHeight},n.createElement(g,{draggerY:i,draggerX:0,onChange:this.handleChange,onDraggerHeight:this.setDraggerHeight}))}}class f extends n.PureComponent{constructor(...e){super(...e),this.state={pickerSize:{width:0,height:0}},this.colorNode=null,this.handleResize=(0,i.D)(()=>{let{colorNode:e}=this;null!=e&&this.setState({pickerSize:{width:e.clientWidth,height:e.clientHeight}})},200,{leading:!0,trailing:!0,maxWait:200}),this.setColorNode=e=>{this.colorNode=e},this.handleHueChange=e=>{let{color:{brightness:t,saturation:r,alpha:n=1},onChange:i}=this.props;i({hue:e,brightness:t,saturation:r,alpha:n})},this.handleAlphaChange=e=>{let{color:{hue:t,brightness:r,saturation:n},onChange:i}=this.props;i({hue:t,brightness:r,saturation:n,alpha:e})},this.handleDraggerMove=({x:e,y:t})=>{let{pickerSize:r}=this.state,{color:{hue:n,alpha:i=1},onChange:s}=this.props,l=(0,a.u)(e/r.width,0,1),h=(0,a.u)(1-t/r.height,0,1);s({hue:n,saturation:l,brightness:h,alpha:i})},this.handlePickerDrag=e=>{e.preventDefault()}}componentDidMount(){let{colorNode:e}=this;null!=e&&this.setState({pickerSize:{width:e.clientWidth,height:e.clientHeight}})}render(){let{id:e,color:t,allowAlpha:r,fullWidth:i}=this.props,{hue:o,saturation:u,brightness:f,alpha:m}=t,{pickerSize:v}=this.state,C=null!=m&&r?m:1,{red:D,green:P,blue:E}=l({hue:o,saturation:1,brightness:1}),H=`rgba(${D}, ${P}, ${E}, ${C})`,$=(0,a.u)(u*v.width,0,v.width),k=(0,a.u)(v.height-f*v.height,0,v.height),b=r?n.createElement(d,{alpha:C,color:t,onChange:this.handleAlphaChange}):null,M=(0,s.AK)(h.ColorPicker,i&&h.fullWidth);return n.createElement("div",{className:M,id:e,onMouseDown:this.handlePickerDrag},n.createElement("div",{ref:this.setColorNode,className:h.MainColor},n.createElement("div",{className:h.ColorLayer,style:{backgroundColor:H}}),n.createElement(g,{onChange:this.handleDraggerMove,draggerX:$,draggerY:k})),n.createElement(p,{hue:o,onChange:this.handleHueChange}),b,n.createElement(c.h,{event:"resize",handler:this.handleResize}))}}},12332:function(e,t,r){r.d(t,{u:function(){return n}});function n(e,t,r){return e<t?t:e>r?r:e}},39627:function(e,t,r){r.d(t,{AK:function(){return a},OX:function(){return o},OZ:function(){return s},jD:function(){return h},vW:function(){return l}});var n=r(53571),i=r(24528);function a(...e){return e.filter(Boolean).join(" ")}function s(e,t){return`${e}${t.charAt(0).toUpperCase()}${t.slice(1)}`}function l(e){let t=Object.entries(e).filter(([e,t])=>null!=t);return t.length?Object.fromEntries(t):void 0}function h(e,t,r,a){return a?Object.fromEntries(Object.entries((0,i.K)(a)?Object.fromEntries(Object.entries(a).map(([e,t])=>[e,`var(--p-${r}-${t})`])):{[n.vi[0]]:`var(--p-${r}-${a})`}).map(([r,n])=>[`--pc-${e}-${t}-${r}`,n])):{}}function o(e,t,r){return r?(0,i.K)(r)?Object.fromEntries(Object.entries(r).map(([r,n])=>[`--pc-${e}-${t}-${r}`,n])):{[`--pc-${e}-${t}-${n.vi[0]}`]:r}:{}}},24528:function(e,t,r){r.d(t,{K:function(){return n}});function n(e){let t=typeof e;return null!=e&&("object"===t||"function"===t)}}}]);