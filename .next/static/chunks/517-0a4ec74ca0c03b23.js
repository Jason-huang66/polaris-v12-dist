"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[517],{30517:function(e,t,r){r.d(t,{U:function(){return E}});var a,s,i=r(27378),l=r(88491),n=r(39627),u=r(9686),o={RangeSlider:"Polaris-RangeSlider"},h={RangeSlider:"Polaris-RangeSlider-DualThumb__RangeSlider",DualThumb:"Polaris-RangeSlider-DualThumb",TrackWrapper:"Polaris-RangeSlider-DualThumb__TrackWrapper",disabled:"Polaris-RangeSlider-DualThumb--disabled",Track:"Polaris-RangeSlider-DualThumb__Track",error:"Polaris-RangeSlider-DualThumb--error","Track--dashed":"Polaris-RangeSlider-DualThumb--trackDashed",Thumbs:"Polaris-RangeSlider-DualThumb__Thumbs",Prefix:"Polaris-RangeSlider-DualThumb__Prefix",Suffix:"Polaris-RangeSlider-DualThumb__Suffix",Output:"Polaris-RangeSlider-DualThumb__Output",OutputBubble:"Polaris-RangeSlider-DualThumb__OutputBubble"},p=r(88470),c=r(86844),d=r(40553),m=r(93283),b=r(7720);(a=s||(s={}))[a.Lower=0]="Lower",a[a.Upper=1]="Upper";class v extends i.Component{constructor(...e){super(...e),this.state={value:f(this.props.value,this.props.min,this.props.max,this.props.step),trackWidth:0,trackLeft:0},this.track=(0,i.createRef)(),this.trackWrapper=(0,i.createRef)(),this.thumbLower=(0,i.createRef)(),this.thumbUpper=(0,i.createRef)(),this.setTrackPosition=(0,l.D)(()=>{if(this.track.current){let{width:e,left:t}=this.track.current.getBoundingClientRect(),r=e-16,a=this.props.max-this.props.min,s=this.props.min/a*r;this.setState({trackWidth:r,trackLeft:t+8-s})}},40,{leading:!0,trailing:!0,maxWait:40}),this.handleMouseDownThumbLower=e=>{0!==e.button||this.props.disabled||(T(this.handleMouseMoveThumbLower),e.stopPropagation())},this.handleMouseMoveThumbLower=e=>{let t=this.state.value[1];this.setValue([this.actualXPosition(e.clientX),t],s.Upper)},this.handleTouchStartThumbLower=e=>{this.props.disabled||(g(this.handleTouchMoveThumbLower),e.stopPropagation())},this.handleTouchMoveThumbLower=e=>{e.preventDefault();let t=this.state.value[1];this.setValue([this.actualXPosition(e.touches[0].clientX),t],s.Upper)},this.handleMouseDownThumbUpper=e=>{0!==e.button||this.props.disabled||(T(this.handleMouseMoveThumbUpper),e.stopPropagation())},this.handleMouseMoveThumbUpper=e=>{let t=this.state.value[0];this.setValue([t,this.actualXPosition(e.clientX)],s.Lower)},this.handleTouchStartThumbUpper=e=>{this.props.disabled||(g(this.handleTouchMoveThumbUpper),e.stopPropagation())},this.handleTouchMoveThumbUpper=e=>{e.preventDefault();let t=this.state.value[0];this.setValue([t,this.actualXPosition(e.touches[0].clientX)],s.Lower)},this.handleKeypressLower=e=>{if(this.props.disabled)return;let{incrementValueLower:t,decrementValueLower:r}=this,a={[u.s.UpArrow]:t,[u.s.RightArrow]:t,[u.s.DownArrow]:r,[u.s.LeftArrow]:r},s=a[e.keyCode];null!=s&&(e.preventDefault(),e.stopPropagation(),s())},this.handleKeypressUpper=e=>{if(this.props.disabled)return;let{incrementValueUpper:t,decrementValueUpper:r}=this,a={[u.s.UpArrow]:t,[u.s.RightArrow]:t,[u.s.DownArrow]:r,[u.s.LeftArrow]:r},s=a[e.keyCode];null!=s&&(e.preventDefault(),e.stopPropagation(),s())},this.incrementValueLower=()=>{this.setValue([this.state.value[0]+this.props.step,this.state.value[1]],s.Upper)},this.decrementValueLower=()=>{this.setValue([this.state.value[0]-this.props.step,this.state.value[1]],s.Upper)},this.incrementValueUpper=()=>{this.setValue([this.state.value[0],this.state.value[1]+this.props.step],s.Lower)},this.decrementValueUpper=()=>{this.setValue([this.state.value[0],this.state.value[1]-this.props.step],s.Lower)},this.dispatchValue=()=>{let{onChange:e,id:t}=this.props,{value:r}=this.state;e(r,t)},this.setValue=(e,t)=>{let{props:{min:r,max:a,step:s},state:{value:i}}=this,l=f(e,r,a,s,t);!1===S(l,i)&&this.setState({value:l},this.dispatchValue)},this.handleMouseDownTrack=e=>{if(0!==e.button||this.props.disabled)return;e.preventDefault();let t=this.actualXPosition(e.clientX),{value:r}=this.state,a=Math.abs(r[0]-t),i=Math.abs(r[1]-t);a<=i?(this.setValue([t,r[1]],s.Upper),T(this.handleMouseMoveThumbLower),null!=this.thumbLower.current&&this.thumbLower.current.focus()):(this.setValue([r[0],t],s.Lower),T(this.handleMouseMoveThumbUpper),null!=this.thumbUpper.current&&this.thumbUpper.current.focus())},this.handleTouchStartTrack=e=>{if(this.props.disabled)return;e.preventDefault();let t=this.actualXPosition(e.touches[0].clientX),{value:r}=this.state,a=Math.abs(r[0]-t),i=Math.abs(r[1]-t);a<=i?(this.setValue([t,r[1]],s.Upper),g(this.handleTouchMoveThumbLower),null!=this.thumbLower.current&&this.thumbLower.current.focus()):(this.setValue([r[0],t],s.Lower),g(this.handleTouchMoveThumbUpper),null!=this.thumbUpper.current&&this.thumbUpper.current.focus())},this.actualXPosition=e=>{if(!this.track.current)return 0;{let{min:t,max:r}=this.props,{trackLeft:a,trackWidth:s}=this.state;return(e-a)/s*(r-t)}}}static getDerivedStateFromProps(e,t){let{min:r,step:a,max:s,value:i,onChange:l,id:n}=e,{prevValue:u}=t;if(S(u,i))return null;let o=f(i,r,s,a);return S(i,o)||l(o,n),{prevValue:i,value:o}}componentDidMount(){this.setTrackPosition(),null!=this.trackWrapper.current&&this.trackWrapper.current.addEventListener("touchstart",this.handleTouchStartTrack,{passive:!1})}componentWillUnmount(){null!=this.trackWrapper.current&&this.trackWrapper.current.removeEventListener("touchstart",this.handleTouchStartTrack)}render(){let{id:e,min:t,max:r,prefix:a,suffix:s,disabled:l,output:u,error:b,onFocus:v,onBlur:T,label:g,labelAction:f,labelHidden:S,helpText:w}=this.props,{value:L}=this.state,P=`${e}Upper`,E=[];b&&E.push(`${e}Error`);let k=E.length?E.join(" "):void 0,D=(0,n.AK)(h.TrackWrapper,b&&h.error,l&&h.disabled),M=(0,n.AK)(h.Thumbs,h.ThumbLower,l&&h.disabled),R=(0,n.AK)(h.Thumbs,h.ThumbUpper,l&&h.disabled),U=this.state.trackWidth,x=r-t,_=t/x*U,N=L[0]/x*U-_,y=L[1]/x*U-_,V=(0,n.AK)(h.Output,h.OutputLower),O=!l&&u?i.createElement("output",{htmlFor:e,className:V,style:{left:`${N}px`}},i.createElement("div",{className:h.OutputBubble},i.createElement(p.x,{as:"span",variant:"headingSm",alignment:"center"},L[0]))):null,A=(0,n.AK)(h.Output,h.OutputUpper),W=!l&&u?i.createElement("output",{htmlFor:P,className:A,style:{left:`${y}px`}},i.createElement("div",{className:h.OutputBubble},i.createElement(p.x,{as:"span",variant:"headingSm",alignment:"center"},L[1]))):null,B={"--pc-range-slider-progress-lower":`${N}px`,"--pc-range-slider-progress-upper":`${y}px`},K=a&&i.createElement("div",{className:h.Prefix},a),X=s&&i.createElement("div",{className:h.Suffix},s);return i.createElement(i.Fragment,null,i.createElement(c.jN,{id:e,label:g,error:b,action:f,labelHidden:S,helpText:w},i.createElement("div",{className:(0,n.AK)(h.DualThumb,o.RangeSlider)},K,i.createElement("div",{className:D,onMouseDown:this.handleMouseDownTrack,ref:this.trackWrapper},i.createElement("div",{className:h.Track,style:B,ref:this.track}),i.createElement("div",{className:h["Track--dashed"]}),i.createElement("div",{id:e,className:M,style:{left:`${N}px`},role:"slider","aria-disabled":l,"aria-valuemin":t,"aria-valuemax":r,"aria-valuenow":L[0],"aria-invalid":Boolean(b),"aria-describedby":k,"aria-labelledby":(0,d.n)(e),onFocus:v,onBlur:T,tabIndex:0,onKeyDown:this.handleKeypressLower,onMouseDown:this.handleMouseDownThumbLower,onTouchStart:this.handleTouchStartThumbLower,ref:this.thumbLower}),O,i.createElement("div",{id:P,className:R,style:{left:`${y}px`},role:"slider","aria-disabled":l,"aria-valuemin":t,"aria-valuemax":r,"aria-valuenow":L[1],"aria-invalid":Boolean(b),"aria-describedby":k,"aria-labelledby":(0,d.n)(e),onFocus:v,onBlur:T,tabIndex:0,onKeyDown:this.handleKeypressUpper,onMouseDown:this.handleMouseDownThumbUpper,onTouchStart:this.handleTouchStartThumbUpper,ref:this.thumbUpper}),W),X)),i.createElement(m.h,{event:"resize",handler:this.setTrackPosition}))}}function T(e){document.addEventListener("mousemove",e),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",e)},{once:!0})}function g(e){let t=()=>{document.removeEventListener("touchmove",e),document.removeEventListener("touchend",t),document.removeEventListener("touchcancel",t)};document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",t,{once:!0}),document.addEventListener("touchcancel",t,{once:!0})}function f(e,t,r,a,i=s.Upper){let l=function(e){let s=t+a;return e<s?s:e>r?r:e}(h(e[1])),n=function(e){let s=r-a;return e<t?t:e>s?s:e}(h(e[0])),u=l-a,o=n+a;return i===s.Upper&&n>u?n=u:i===s.Lower&&l<o&&(l=o),[n,l];function h(e){return Math.round(e/a)*a}}function S(e,t){return null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1]}v.contextType=b.Y;var w=r(12332),L={RangeSlider:"Polaris-RangeSlider-SingleThumb__RangeSlider",SingleThumb:"Polaris-RangeSlider-SingleThumb",disabled:"Polaris-RangeSlider-SingleThumb--disabled",InputWrapper:"Polaris-RangeSlider-SingleThumb__InputWrapper",Prefix:"Polaris-RangeSlider-SingleThumb__Prefix",Suffix:"Polaris-RangeSlider-SingleThumb__Suffix",Input:"Polaris-RangeSlider-SingleThumb__Input",error:"Polaris-RangeSlider-SingleThumb--error",Output:"Polaris-RangeSlider-SingleThumb__Output",OutputBubble:"Polaris-RangeSlider-SingleThumb__OutputBubble"};function P(e){var t;let{id:r,error:a,helpText:s,value:l,min:u,max:h,disabled:d,output:m,prefix:b,suffix:v,label:T,labelAction:g,labelHidden:f,step:S,onBlur:P,onFocus:E}=e,k=(0,w.u)(l,u,h),D=[];a&&D.push(`${r}Error`),s&&D.push((0,c.Nh)(r));let M=D.length?D.join(" "):void 0,R=(k-u)*100/(h-u),U=1===Math.sign(t=(R-50)/100)?-Math.abs(t):-1===Math.sign(t)?Math.abs(t):0,x={"--pc-range-slider-min":u,"--pc-range-slider-max":h,"--pc-range-slider-current":k,"--pc-range-slider-progress":`${R}%`,"--pc-range-slider-output-factor":`${U}`},_=!d&&m&&i.createElement("output",{htmlFor:r,className:L.Output},i.createElement("div",{className:L.OutputBubble},i.createElement(p.x,{as:"span",variant:"headingSm",alignment:"center"},k))),N=b&&i.createElement("div",{className:L.Prefix},b),y=v&&i.createElement("div",{className:L.Suffix},v),V=(0,n.AK)(L.SingleThumb,o.RangeSlider,a&&L.error,d&&L.disabled);return i.createElement(c.jN,{id:r,label:T,error:a,action:g,labelHidden:f,helpText:s},i.createElement("div",{className:V,style:x},N,i.createElement("div",{className:L.InputWrapper},i.createElement("input",{type:"range",className:L.Input,id:r,name:r,min:u,max:h,step:S,value:k,disabled:d,onChange:function(t){let{onChange:a}=e;a&&a(parseFloat(t.currentTarget.value),r)},onFocus:E,onBlur:P,"aria-valuemin":u,"aria-valuemax":h,"aria-valuenow":k,"aria-invalid":Boolean(a),"aria-describedby":M}),_),y))}function E({min:e=0,max:t=100,step:r=1,value:a,...s}){let l=(0,i.useId)(),n={id:l,min:e,max:t,step:r,...s};return Array.isArray(a)?i.createElement(v,Object.assign({value:a},n)):i.createElement(P,Object.assign({value:a},n))}}}]);