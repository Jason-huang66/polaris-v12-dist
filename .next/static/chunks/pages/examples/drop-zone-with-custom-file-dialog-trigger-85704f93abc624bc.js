(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1570],{63578:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/drop-zone-with-custom-file-dialog-trigger",function(){return a(97515)}])},97515:function(e,t,a){"use strict";a.r(t);var i=a(24246),r=a(97661),n=a(74906),l=a(88470),o=a(29324),s=a(31011),c=a(10924),u=a(27378),d=a(64515);t.default=(0,d.y)(function(){let[e,t]=(0,u.useState)([]),[a,d]=(0,u.useState)(!1),g=(0,u.useCallback)((e,a,i)=>t(t=>[...t,...e]),[]),m=(0,u.useCallback)(()=>d(e=>!e),[]),p=["image/gif","image/jpeg","image/png"],f=e.length>0&&(0,i.jsx)(r.D,{vertical:!0,children:e.map((e,t)=>(0,i.jsxs)(r.D,{alignment:"center",children:[(0,i.jsx)(n.p,{size:"small",alt:e.name,source:p.indexOf(e.type)>-1?window.URL.createObjectURL(e):c.S}),(0,i.jsxs)("div",{children:[e.name," ",(0,i.jsxs)(l.x,{variant:"bodySm",as:"p",children:[e.size," bytes"]})]})]},t))});return(0,i.jsx)(o.z,{sectioned:!0,title:"Product Images",actions:[{content:"Upload Image",onAction:m}],children:(0,i.jsx)(s.r,{openFileDialog:a,onDrop:g,onFileDialogClose:m,children:f})})})},84879:function(e,t,a){"use strict";a.d(t,{h:function(){return c}});var i=a(27378),r=a(39627),n=a(26482),l={ButtonGroup:"Polaris-ButtonGroup",Item:"Polaris-ButtonGroup__Item","Item-plain":"Polaris-ButtonGroup__Item--plain",variantSegmented:"Polaris-ButtonGroup--variantSegmented","Item-focused":"Polaris-ButtonGroup__Item--focused",fullWidth:"Polaris-ButtonGroup--fullWidth",extraTight:"Polaris-ButtonGroup--extraTight",tight:"Polaris-ButtonGroup--tight",loose:"Polaris-ButtonGroup--loose",noWrap:"Polaris-ButtonGroup--noWrap"},o=a(95336);function s({button:e}){let{value:t,setTrue:a,setFalse:n}=(0,o.O)(!1),s=(0,r.AK)(l.Item,t&&l["Item-focused"],"plain"===e.props.variant&&l["Item-plain"]);return i.createElement("div",{className:s,onFocus:a,onBlur:n},e)}function c({children:e,gap:t,variant:a,fullWidth:o,connectedTop:c,noWrap:u}){let d=(0,r.AK)(l.ButtonGroup,t&&l[t],a&&l[(0,r.OZ)("variant",a)],o&&l.fullWidth,u&&l.noWrap),g=(0,n.gD)(e).map((e,t)=>i.createElement(s,{button:e,key:t}));return i.createElement("div",{className:d,"data-buttongroup-variant":a,"data-buttongroup-connected-top":c,"data-buttongroup-full-width":o,"data-buttongroup-no-wrap":u},g)}},31011:function(e,t,a){"use strict";a.d(t,{r:function(){return _}});var i=a(27378),r=a(42547),n=a(35723),l=a(88491),o=a(39627);function s(e=""){let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}var c=a(59012),u=a(18891),d=a(95336),g=a(63671);let m=["dragover","dragenter","drop"];function p(e){if(m.indexOf(e.type)>0&&e.dataTransfer){let t=e.dataTransfer;if(t.files&&t.files.length)return Array.from(t.files);if(t.items&&t.items.length)return Array.from(t.items)}else if(Object.prototype.hasOwnProperty.call(e,"target")&&e.target.files)return Array.from(e.target.files);return[]}function f(e){return e?"allowMultiple":"single"}let h=(0,i.createContext)({disabled:!1,focused:!1,size:"extraLarge",type:"file",measuring:!1,allowMultiple:!0});var P={DropZone:"Polaris-DropZone",focused:"Polaris-DropZone--focused",hasOutline:"Polaris-DropZone--hasOutline",isDisabled:"Polaris-DropZone--isDisabled",isDragging:"Polaris-DropZone--isDragging",sizeLarge:"Polaris-DropZone--sizeLarge",sizeMedium:"Polaris-DropZone--sizeMedium",sizeSmall:"Polaris-DropZone--sizeSmall",measuring:"Polaris-DropZone--measuring",Container:"Polaris-DropZone__Container",Overlay:"Polaris-DropZone__Overlay",hasError:"Polaris-DropZone--hasError"},b={FileUpload:"Polaris-DropZone-FileUpload",large:"Polaris-DropZone-FileUpload--large",small:"Polaris-DropZone-FileUpload--small",Action:"Polaris-DropZone-FileUpload__Action",disabled:"Polaris-DropZone-FileUpload--disabled",ActionTitle:"Polaris-DropZone-FileUpload__ActionTitle","ActionTitle-disabled":"Polaris-DropZone-FileUpload__ActionTitle--disabled","ActionTitle-focused":"Polaris-DropZone-FileUpload__ActionTitle--focused",UploadIcon:"Polaris-DropZone-FileUpload__UploadIcon"},S=a(57963),y=a(89219),v=a(73260),E=a(88470),L=a(86844);let _=function({dropOnPage:e,label:t,labelAction:a,labelHidden:m,children:b,disabled:_=!1,outline:k=!0,accept:D,active:O,overlay:T=!0,allowMultiple:A=!0,overlayText:Z,errorOverlayText:F,id:x,type:N="file",onClick:w,error:z,openFileDialog:I,variableHeight:B,onFileDialogClose:U,customValidator:W,onDrop:$,onDropAccepted:j,onDropRejected:G,onDragEnter:K,onDragOver:H,onDragLeave:J}){let M=(0,i.useRef)(null),R=(0,i.useRef)(null),q=(0,i.useRef)([]),Q=(0,i.useCallback)((0,l.D)(()=>{if(!M.current)return;if(B){eo(!1);return}let e="large",t=M.current.getBoundingClientRect().width;t<100?e="small":t<160&&(e="medium"),en(e),el&&eo(!1)},50,{trailing:!0}),[]),[X,V]=(0,i.useState)(!1),[Y,ee]=(0,i.useState)(!1),{value:et,setTrue:ea,setFalse:ei}=(0,d.O)(!1),[er,en]=(0,i.useState)("large"),[el,eo]=(0,i.useState)(!0),es=(0,S.Q)(),ec=(0,i.useCallback)(e=>{let t=[],a=[];return Array.from(e).forEach(e=>{("application/x-moz-file"===e.type||function(e,t){if(e&&t){let a=e.name||"",i=e.type||"",r=i.replace(/\/.*$/,""),n=Array.isArray(t)?t:t.split(",");return n.some(e=>{let t=e.trim();return t.startsWith(".")?a.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?r===t.replace(/\/.*$/,""):i===t})}return!0}(e,D))&&(!W||W(e))?t.push(e):a.push(e)}),A||(t.splice(1,t.length),a.push(...t.slice(1))),{files:e,acceptedFiles:t,rejectedFiles:a}},[D,A,W]),eu=(0,i.useCallback)(e=>{if(C(e),_)return;let t=p(e),{files:a,acceptedFiles:i,rejectedFiles:r}=ec(t);q.current=[],V(!1),ee(r.length>0),$&&$(a,i,r),j&&i.length&&j(i),G&&r.length&&G(r),e.target&&"value"in e.target&&(e.target.value="")},[_,ec,$,j,G]),ed=(0,i.useCallback)(e=>{if(C(e),_)return;let t=p(e);if(e.target&&!q.current.includes(e.target)&&q.current.push(e.target),X)return;let{rejectedFiles:a}=ec(t);V(!0),ee(a.length>0),K&&K()},[_,X,ec,K]),eg=(0,i.useCallback)(e=>{C(e),!_&&H&&H()},[_,H]),em=(0,i.useCallback)(t=>{t.preventDefault(),_||(q.current=q.current.filter(a=>{let i=e&&!c.s?document:M.current;return a!==t.target&&i&&i.contains(a)}),!(q.current.length>0)&&(V(!1),ee(!1),J&&J()))},[e,_,J]),ep=e&&!c.s?document:M.current;(0,g.O)("drop",eu,ep),(0,g.O)("dragover",eg,ep),(0,g.O)("dragenter",ed,ep),(0,g.O)("dragleave",em,ep),(0,g.O)("resize",Q,c.s?null:window),(0,u.J)(()=>{Q()});let ef=(0,i.useId)(),eh=x??ef,eP=s(N),eb=f(A),eS=void 0===Z?es.translate(`Polaris.DropZone.${eb}.overlayText${eP}`):Z,ey=void 0===F?es.translate(`Polaris.DropZone.errorOverlayText${eP}`):F,ev=t||es.translate(`Polaris.DropZone.${eb}.label${eP}`),eE=(0,o.AK)(P.DropZone,k&&P.hasOutline,et&&P.focused,(O||X)&&P.isDragging,_&&P.isDisabled,(Y||z)&&P.hasError,!B&&P[(0,o.OZ)("size",er)],el&&P.measuring),eL=(O||X)&&!Y&&!z&&T&&eO(r.S,eS),e_=X&&(Y||z)&&eO(n.S,ey,"critical"),eC=(0,i.useMemo)(()=>({disabled:_,focused:et,size:er,type:N||"file",measuring:el,allowMultiple:A}),[_,et,el,er,N,A]),ek=(0,i.useCallback)(()=>{R.current&&R.current.click()},[R]),eD=(0,i.useCallback)(()=>{ek(),U?.()},[ek,U]);function eO(e,t,a){return i.createElement("div",{className:P.Overlay},i.createElement(v.E,{gap:"200",inlineAlign:"center"},"small"===er&&i.createElement(y.J,{source:e,tone:a}),("medium"===er||"large"===er)&&i.createElement(E.x,{variant:"bodySm",as:"p",fontWeight:"bold"},t)))}return(0,i.useEffect)(()=>{I&&eD()},[I,eD]),i.createElement(h.Provider,{value:eC},i.createElement(L.jN,{id:eh,label:ev,action:a,labelHidden:!t||m},i.createElement("div",{ref:M,className:eE,"aria-disabled":_,onClick:function(e){if(!_)return w?w(e):ek()},onDragStart:C},eL,e_,i.createElement(E.x,{variant:"bodySm",as:"span",visuallyHidden:!0},i.createElement("input",{id:eh,accept:D,disabled:_,multiple:A,onChange:eu,onFocus:ea,onBlur:ei,type:"file",ref:R,autoComplete:"off"})),i.createElement("div",{className:P.Container},b))))};function C(e){e.preventDefault(),e.stopPropagation()}_.FileUpload=function(e){let t;let a=(0,S.Q)(),{size:n,measuring:l,type:c,disabled:u,allowMultiple:d}=(0,i.useContext)(h),g=s(c),m=f(d),{actionTitle:p=a.translate(`Polaris.DropZone.${m}.actionTitle${g}`),actionHint:P}=e,L=(0,o.AK)(b.Action,u&&b.disabled),_=i.createElement("div",{className:L},p),C=(0,o.AK)(b.FileUpload,l&&b.measuring,"large"===n&&b.large,"small"===n&&b.small),k=P&&i.createElement(E.x,{variant:"bodySm",as:"p",tone:"subdued"},P);switch(n){case"large":case"medium":t=i.createElement(v.E,{inlineAlign:"center",gap:"200"},_,k);break;case"small":t=i.createElement("div",{className:(0,o.AK)(b.UploadIcon,u&&b.disabled)},i.createElement(y.J,{source:r.S}))}return i.createElement("div",{className:C},t)}},17017:function(e,t,a){"use strict";a.d(t,{E:function(){return r}});var i=a(27378);function r({alt:e,sourceSet:t,source:a,crossOrigin:r,onLoad:n,className:l,...o}){let s=t?t.map(({source:e,descriptor:t})=>`${e} ${t}`).join(","):null,c=(0,i.useCallback)(()=>{n&&n()},[n]);return i.createElement("img",Object.assign({alt:e,src:a,crossOrigin:r,className:l,onLoad:c},s?{srcSet:s}:{},o))}},29324:function(e,t,a){"use strict";a.d(t,{z:function(){return S}});var i=a(27378),r=a(39627),n=a(95336),l=a(10952),o={LegacyCard:"Polaris-LegacyCard",Section:"Polaris-LegacyCard__Section",subdued:"Polaris-LegacyCard--subdued","Section-hideOnPrint":"Polaris-LegacyCard__Section--hideOnPrint",hideOnPrint:"Polaris-LegacyCard--hideOnPrint",Header:"Polaris-LegacyCard__Header","Section-fullWidth":"Polaris-LegacyCard__Section--fullWidth","Section-flush":"Polaris-LegacyCard__Section--flush","Section-subdued":"Polaris-LegacyCard__Section--subdued",SectionHeader:"Polaris-LegacyCard__SectionHeader",Subsection:"Polaris-LegacyCard__Subsection",Footer:"Polaris-LegacyCard__Footer",LeftJustified:"Polaris-LegacyCard__LeftJustified",FirstSectionPadding:"Polaris-LegacyCard__FirstSectionPadding",LastSectionPadding:"Polaris-LegacyCard__LastSectionPadding"},s=a(76928),c=a(84879),u=a(39355),d=a(88470);function g({children:e,title:t,actions:a}){let r=a?i.createElement(c.h,null,(0,s.B)(a,{variant:"plain"})):null,n=(0,i.isValidElement)(t)?t:i.createElement(d.x,{variant:"headingSm",as:"h2"},t),l=r||e?i.createElement(u.g,{wrap:!1,gap:"200",align:"space-between",blockAlign:"center"},n,i.createElement(u.g,{wrap:!1,gap:"400",blockAlign:"center"},r,e)):n;return i.createElement("div",{className:o.Header},l)}var m=a(97661);function p({children:e,title:t,subdued:a,flush:n,fullWidth:l,actions:u,hideOnPrint:g}){let p=(0,r.AK)(o.Section,n&&o["Section-flush"],a&&o["Section-subdued"],l&&o["Section-fullWidth"],g&&o["Section-hideOnPrint"]),f=u?i.createElement(c.h,null,(0,s.B)(u,{variant:"plain"})):null,h="string"==typeof t?i.createElement(d.x,{variant:"headingSm",as:"h3",fontWeight:"medium"},t):t,P=h||f?i.createElement("div",{className:o.SectionHeader},f?i.createElement(m.D,{alignment:"baseline"},i.createElement(m.D.Item,{fill:!0},h),f):h):null;return i.createElement("div",{className:p},P,e)}var f=a(57963),h=a(43389),P=a(33121),b=a(47693);let S=function({children:e,hideOnPrint:t,title:a,subdued:u,sectioned:d,actions:m,primaryFooterAction:S,secondaryFooterActions:v,secondaryFooterActionsDisclosureText:E,footerActionAlignment:L="right"}){let _=(0,f.Q)(),{value:C,toggle:k}=(0,n.O)(!1),D=function(){let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t,a;let i=e.current;if(i){let r=()=>{let e;y(t,"top",!1),y(a,"bottom",!1);let r=i.querySelectorAll(`.${o.Section}, .${o.Header}, .${o.Footer}`);if(!r?.length)return;let n=r[0],l=(e=r[0],r.forEach(t=>{e.contains(t)||(e=t)}),e);i.firstChild?.contains(n)&&y(t=n,"top",!0),i.lastChild?.contains(l)&&y(a=l,"bottom",!0)};r();let n=new MutationObserver(r);return n.observe(i,{childList:!0,subtree:!0}),()=>{y(t,"top",!1),y(a,"bottom",!1),n.disconnect()}}},[]),e}(),O=(0,r.AK)(o.LegacyCard,u&&o.subdued,t&&o.hideOnPrint),T=a||m?i.createElement(g,{actions:m,title:a}):null,A=d?i.createElement(p,null,e):e,Z=S?(0,s.h)(S,{variant:"primary"}):null,F=null;v&&v.length&&(F=1===v.length?(0,s.h)(v[0]):i.createElement(i.Fragment,null,i.createElement(h.J,{active:C,activator:i.createElement(P.z,{disclosure:!0,onClick:k},E||_.translate("Polaris.Common.more")),onClose:k},i.createElement(b.S,{items:v}))));let x=Z||F?i.createElement("div",{className:(0,r.AK)(o.Footer,"left"===L&&o.LeftJustified)},"right"===L?i.createElement(c.h,null,F,Z):i.createElement(c.h,null,Z,F)):null;return i.createElement(l.O.Provider,{value:!0},i.createElement("div",{className:O,ref:D},T,A,x))};function y(e,t,a){if(!(!e||e.className.includes(o["Section-flush"])))switch(t){case"top":e.classList.toggle(o.FirstSectionPadding,a);return;case"bottom":e.classList.toggle(o.LastSectionPadding,a)}}S.Header=g,S.Section=p,S.Subsection=function({children:e}){return i.createElement("div",{className:o.Subsection},e)}},97661:function(e,t,a){"use strict";a.d(t,{D:function(){return s}});var i=a(27378),r=a(39627),n=a(26482),l={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function o({children:e,fill:t}){let a=(0,r.AK)(l.Item,t&&l["Item-fill"]);return i.createElement("div",{className:a},e)}let s=(0,i.memo)(function({children:e,vertical:t,spacing:a,distribution:s,alignment:c,wrap:u}){let d=(0,r.AK)(l.LegacyStack,t&&l.vertical,a&&l[(0,r.OZ)("spacing",a)],s&&l[(0,r.OZ)("distribution",s)],c&&l[(0,r.OZ)("alignment",c)],!1===u&&l.noWrap),g=(0,n.gD)(e).map((e,t)=>(0,n.oh)(e,o,{key:t}));return i.createElement("div",{className:d},g)});s.Item=o},74906:function(e,t,a){"use strict";a.d(t,{p:function(){return s}});var i=a(27378),r=a(39627),n={Thumbnail:"Polaris-Thumbnail",sizeExtraSmall:"Polaris-Thumbnail--sizeExtraSmall",sizeSmall:"Polaris-Thumbnail--sizeSmall",sizeMedium:"Polaris-Thumbnail--sizeMedium",sizeLarge:"Polaris-Thumbnail--sizeLarge",transparent:"Polaris-Thumbnail--transparent"},l=a(17017),o=a(89219);function s({source:e,alt:t,size:a="medium",transparent:s}){let c=(0,r.AK)(n.Thumbnail,a&&n[(0,r.OZ)("size",a)],s&&n.transparent),u="string"==typeof e?i.createElement(l.E,{alt:t,source:e}):i.createElement(o.J,{accessibilityLabel:t,source:e});return i.createElement("span",{className:c},u)}},10952:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});var i=a(27378);let r=(0,i.createContext)(!1)}},function(e){e.O(0,[4515,3121,7298,2131,8073,7693,9774,2888,179],function(){return e(e.s=63578)}),_N_E=e.O()}]);